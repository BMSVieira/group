<!DOCTYPE html>
<html lang="en" style="background-color:#0a0f13; color:white; overflow-x: hidden;">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>UnicSeen - Share videos with your friends.</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>

    <body style="background-color:#0a0f13; color:white;"></body>

        <!-- Responsive navbar-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container" style="max-width: 1251px;">
                <a class="navbar-brand" href="#!"><img src="assets/logo.png" style="max-width: 150px;"></a>
                <button style="position: absolute; right: 73px;" onclick="openNav()" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><i class="fa-solid fa-users"></i><span class="badge badge-warning badgeUnic" id="usercount_1"></span></button>
                <button onclick="showSearchMobile()" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><i class="fa-solid fa-magnifying-glass"></i></button>

                <!-- Invite to room -->
                <div class="row hideinvite">
                  <div class="input-group flex-nowrap">
                    <button id="notsync" style="display:none;" class="btn btn-warning individualbutton" type="button"><i class="fa-solid fa-triangle-exclamation fa-beat-fade"></i></button>
                    <button class="btn btn-primary individualbutton" onclick="openNav()" type="button"><i class="fa-solid fa-users"></i><span class="badge badge-warning badgeUnic" id="usercount_2"></span></button>
                    <input type="text" class="form-control" placeholder="Invite" id="textToCopy">
                    <button type="button" id="copyButton" class="btn btn-primary"><i class="fa-solid fa-copy"></i></button>
                  </div>
                </div>

            </div>
        </nav>

        <!-- Modal Name -->
        <div class="modal fade" id="UsernameModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content" style="color: white;">
              <div class="modal-header" style="border-color: #0c1e31;">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Welcome to UnicSeen.</h1>
              </div>
              <div class="modal-body">
                <form>
                  <div class="mb-3">
                    <p>Choose your nickname: </p>
                    <input type="text" class="form-control" placeholder="Nickname" id="username_input">
                  </div>
                </form>
              </div>
              <div class="modal-footer" style="border-color: #0c1e31;">
                <button type="button" id="setUsernameButton" class="btn btn-primary">Let's go!</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal Name -->
        <div class="modal fade" id="reconnectModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content" style="color: white;">
              <div class="modal-header" style="border-color: #0c1e31;">
                
              <h1 class="modal-title fs-5" id="exampleModalLabel">Disconnected</h1></div>
              <div class="modal-body">
                <form>
                  <div class="mb-3">
                    <p style="text-align: center;">It seems you were disconnected, please click button below to reconnect.</p>
                    
                  </div>
                </form>
              </div>
              <div class="modal-footer" style="border-color: #0c1e31;">
                <button type="button" onclick="location.reload()" class="btn btn-primary">Reconnect</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Page Content-->
        <div class="container px-4 px-lg-5 mtop">

          <!-- Sidebar -->
          <div id="mySidebar" class="sidebar" style="width: 250px; margin-left: -250px;">
            <p style="margin-top: -34px; padding-left: 17px;">Synchronization:</p>
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a>
            <div class="row col-lg-12" id="timelog" style="padding:10px;">
            </div>
          </div>

            <div class="row col-lg-12">
                <!-- Heading Row-->
                <div class="row col-lg-8">
                    <div class="col-lg-12">
                       <div style="padding-top: 12px; padding-bottom: 16px;" class="searchvideo" id="searchvideo">
                        <div class="input-group flex-nowrap">
                          <select onchange="clearSearchbar()" class="form-select searchvideoselect" id="videotype">
                            <option value="mp4">MP4</option>
                            <option value="youtube">Youtube</option>
                          </select>
                          <input type="text" class="form-control" id="video_url" placeholder="Paste url">
                          <button type="button" id="button_url_video" class="btn btn-primary"><i class="fa-solid fa-magnifying-glass"></i></button>
                        </div>

                        <div class="container previewvideo" id="previewvideo" style="display:none;">
                          <div class="row" style="width: 100%;">
                            <div class="col-2">
                              <img src="" class="img-fluid rounded-start" id="video-thumbnail" style="/*! max-width: 86px; */ width: 100%;"> 
                            </div>
                            <div class="col-10">
                              <div class="card-body" style="padding: 9px 11px;">
                                <h5 class="card-title cardmobile" id="video-title"></h5>
                            </div>
                            </div>
                          </div>
                        </div>

                      </div>

                      <div id="player" data-plyr-provider="youtube" data-plyr-embed-id="1FV-exCIcDQ"></div>

                    </div>
                </div>
                <div class="row col-lg-4">

                    <div class="col-lg-12 paddingresp" style="background-color: #0a0f13;">
                        <ul class="nav nav-tabs navbarmobile" role="tablist">
                            <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#chat">Chat</a>
                            </li>
                            <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#menu1">Playlist</a>
                            </li>
                            <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#history_tab">History</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" data-bs-toggle="tab" href="#sala">Room Info</a>
                            </li>
                        </ul>
                        
                        <!-- Tab panes -->
                        <div class="tab-content tabcontentmobile">
                            <div id="chat" class="tab-pane active"><br>
                                    <div class="col-md-10 col-lg-8 col-xl-6" style="width:100%;">
                                      <div class="card fixedresponsive" id="chat2" style="border: 0px;">
                                        <div class="card-body" id="chatbody" data-mdb-perfect-scrollbar="true" style="position: relative; height: 400px; overflow-y: scroll; overflow-x: hidden;">
                                          <!-- Chat box content -->
                                        </div>
                                        <div class="card-footer text-muted d-flex justify-content-start align-items-center p-3">
                                          <p id="istyping" class="istyping">
                                            <i class="fa-solid fa-ellipsis fa-beat" style="--fa-animation-duration: 0.5s;position: relative;top: 3px;"></i> 
                                            <span style="font-size: 9pt;">User is typing</span>
                                          </p>
                                          <input type="text" class="form-control form-control-lg" id="chat_input" placeholder="Type message" style="margin-right:5px;">
                                            <button type="button" class="btn btn-primary" id="sendMessage"><i class="fa-solid fa-paper-plane"></i></button>
                                        </div>
                                      </div>
                                    </div>
                            </div>
                            <div id="menu1" class="container tab-pane fade"><br>
                            <h3>Playlist</h3>
                            <p>coming soon.</p>
                            </div>
                            <div id="history_tab" class="container tab-pane fade">
                              
                            </div>
                            <div id="sala" class="container tab-pane fade"><br>
                              
                              <div class="form-group row">
                                <p>Username</p>
                                <div class="col-sm-12">
                                  <input type="text" class="form-control form-control-md" id="usernameRoom" placeholder="col-form-label-sm">
                                </div>

                                <p style="margin-top: 18px;">Room ID</p>
                                <div class="col-sm-12">
                                  <input type="text" class="form-control form-control-md" id="idRoom" placeholder="col-form-label-sm">
                                </div>

                                <p style="margin-top: 18px;">Share with friends!</p>
                                <div class="col-sm-12">
                                    <!-- Invite to room -->
                                    <div class="row">
                                      <div class="input-group flex-nowrap">
                                        <input type="text" class="form-control" placeholder="Invite" id="inviteRoom">
                                        <button type="button" id="copyButtonRoom" class="btn btn-primary"><i class="fa-solid fa-copy"></i></button>
                                      </div>
                                    </div>
                                </div>
                              </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Lista de utilizadores -->
            <div class="onlineusers">
              <div id="online_users" class="row centered-div" style="background-color: #05131e; width: 64%;">
              </div>
            </div>
          
        </div>

        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
        <script type="module" src="core/main.js"></script>
        <script>
          var usernameModal = new bootstrap.Modal(document.getElementById('UsernameModal'), { backdrop: 'static', keyboard: false  });
          var reconnectModal = new bootstrap.Modal(document.getElementById('reconnectModal'), { backdrop: 'static', keyboard: false  });
        </script>
    </body>
</html>
